<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - MrQuizzer</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.worker.min.js';
    </script>

    <link rel="stylesheet" href="settings.css">
</head>
<body>

    <div class="bg-pattern"></div>

    <div id="tos-modal" class="modal-overlay">
        <article class="modal-container">
            <header class="modal-container-header">
                <span class="modal-container-title">
                    <svg aria-hidden="true" height="24" width="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M14 9V4H5v16h6.056c.328.417.724.785 1.18 1.085l1.39.915H3.993A.993.993 0 0 1 3 21.008V2.992C3 2.455 3.449 2 4.002 2h10.995L21 8v1h-7zm-2 2h9v5.949c0 .99-.501 1.916-1.336 2.465L16.5 21.498l-3.164-2.084A2.953 2.953 0 0 1 12 16.95V11zm2 5.949c0 .316.162.614.436.795l2.064 1.36 2.064-1.36a.954.954 0 0 0 .436-.795V13h-5v3.949z" fill="currentColor"></path>
                    </svg>
                    Terms and Services
                </span>
            </header>
            <section class="modal-container-body rtf" id="tos-content">
                <p><strong>Please read carefully before proceeding.</strong></p>
                <p>By using MrQuizzer, you agree that you will not upload confidential, illegal, or copyrighted content that you do not have permission to use.</p>
                <p>We use security systems to actively monitor the use of our platform. Any attempts at reverse engineering or inappropriate use of the platform are strictly prohibited and will result in the permanent blocking of your access to our platform.</p>
                <p>This website and its contents are provided without guarantees of any kind. We are not responsible for its use or the results derived from its use.</p>
                <ul>
                    <li>Use AI responsibly.</li>
                    <li>Check generated answers for accuracy.</li>
                    <li>Data is processed locally where possible.</li>
                </ul>
                <p>Please click Accept to continue to the application.</p>
            </section>
            <footer class="modal-container-footer">
                <button class="button is-ghost" id="btn-decline">Decline</button>
                <button class="button is-primary" id="btn-accept">Accept</button>
            </footer>
        </article>
    </div>

    <main class="glass-card hidden" id="main-app">
        <header class="app-header">
            <h2>Quiz Settings</h2>
            <button id="btn-reset" class="btn-small">üîÑ Reset Settings</button>
        </header>

        <section class="step-section">
            <div class="step-header">
                <span class="step-number">1</span>
                <h3>Enter your content</h3>
            </div>
            
            <div class="terminal-container">
                <div class="terminal-box">
                    <div class="textarea-wrapper">
                        <textarea id="source-text" placeholder="Paste your text, notes, or let the AI analyze your files..."></textarea>
                        
                        <div id="loading-overlay" class="loading-overlay hidden">
                            <div class="spinner"></div>
                            <p id="loading-text">Processing...</p>
                        </div>
                    </div>
                    
                    <div class="terminal-footer">
                        <div class="toolbar-left">
                            <input type="file" id="file-input" accept=".pdf" style="display: none;">
                            
                            <button class="tool-btn" id="btn-attach-file" title="Attach PDF">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"/></svg>
                            </button>

                            <button class="tool-btn text-blue" id="btn-attach-link" title="Attach Web Link/YouTube">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="step-section">
            <div class="step-header">
                <span class="step-number">2</span>
                <h3>Test Preferences</h3>
            </div>
            
            <div class="settings-grid">
                <div class="setting-group">
                    <label>Language</label>
                    <select id="set-language" class="input-select">
                        <option value="en">English</option>
                        <option value="es">Spanish</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="it">Italian</option>
                        <option value="pt">Portuguese</option>
                        <option value="pt-BR">Portugu√™s (Brasil)</option>
                        <option value="nl">Dutch</option>
                        <option value="sv">Swedish</option>
                        <option value="no">Norwegian</option>
                        <option value="da">Danish</option>
                        <option value="fi">Finnish</option>
                        <option value="pl">Polish</option>
                        <option value="cs">Czech</option>
                        <option value="hu">Hungarian</option>
                        <option value="ro">Romanian</option>
                        <option value="bg">Bulgarian</option>
                        <option value="el">Greek</option>
                        <option value="tr">Turkish</option>
                        <option value="ru">Russian</option>
                        <option value="uk">Ukrainian</option>
                        <option value="ar">Arabic</option>
                        <option value="he">Hebrew</option>
                        <option value="hi">Hindi</option>
                        <option value="bn">Bengali</option>
                        <option value="ur">Urdu</option>
                        <option value="pa">Punjabi</option>
                        <option value="vi">Vietnamese</option>
                        <option value="th">Thai</option>
                        <option value="id">Indonesian</option>
                        <option value="ms">Malay</option>
                        <option value="zh-CN">‰∏≠Êñá (ÁÆÄ‰Ωì)</option>
                        <option value="zh-TW">‰∏≠Êñá (ÁπÅÈ´î)</option>
                        <option value="ja">Japanese</option>
                        <option value="ko">Korean</option>
                        <option value="sw">Swahili</option>
                        <option value="tl">Filipino (Tagalog)</option>
                    </select>
                </div>

                <div class="setting-group">
                    <label>Difficulty</label>
                    <select id="set-difficulty" class="input-select">
                        <option value="easy">Easy</option>
                        <option value="medium" selected>Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                </div>

                <div class="setting-group">
                    <label>No. of Questions</label>
                    <input type="number" id="set-questions" class="input-select" value="5" min="1" max="50">
                </div>

                <div class="setting-group">
                    <label>Tricky questions</label>
                    <select id="set-tricky" class="input-select">
                        <option value="Yes">Yes</option>
                        <option value="No" selected>No</option>
                    </select>
                </div>

                <div class="setting-group">
                    <label>Attach aditional documents on AI chat</label>
                    <select id="set-tricky" class="input-select">
                        <option value="Yes">Yes</option>
                        <option value="No" selected>No</option>
                    </select>
                </div>

                <div class="setting-group">
                    <label>Allow AI to include own content</label>
                    <select id="set-tricky" class="input-select">
                        <option value="Yes">Yes</option>
                        <option value="No" selected>No, only provided content</option>
                    </select>
                </div>

                <div class="setting-group full-width">
                    <label>Question Types</label>
                    <div class="checkbox-group">
                        <label class="check-box"><input type="checkbox" value="mcq" checked> Multiple Choice</label>
                        <label class="check-box"><input type="checkbox" value="true_false"> True/False</label>
                        <label class="check-box"><input type="checkbox" value="short_answer"> Short Answer</label>
                        <label class="check-box"><input type="checkbox" value="fill_blank"> Fill in the Blanks</label>
                    </div>
                </div>

                <div class="setting-group">
                    <label class="toggle-label">
                        Include Explanations
                        <input type="checkbox" id="set-explanations">
                        <span class="toggle-switch"></span>
                    </label>
                </div>
            </div>
        </section>

        <section class="step-section">
            <div class="step-header">
                <span class="step-number">3</span>
                <h3>Generate with AI</h3>
            </div>
            <p class="step-desc">Copy the Prompt and paste it into your favorite AI.</p>
            <br>
            <div class="ai-buttons">
                <button class="ai-btn" onclick="openPrompt('chatgpt')">ü§ñ Open with ChatGPT</button>
                <button class="ai-btn" onclick="openPrompt('perplexity')">‚ú® Open with Perplexity</button>
                <button class="ai-btn" onclick="copyPrompt()">üìã Copy for other AI</button>
            </div>
        </section>

        <section class="step-section">
            <div class="step-header">
                <span class="step-number">4</span>
                <h3>Paste the result (JSON)</h3>
            </div>
            
            <textarea id="json-input" class="code-area" placeholder='Paste here the JSON output from the AI. Example: {"metadata": ...}'></textarea>
            <div id="json-status" class="status-msg">Waiting for JSON...</div>
        </section>

        <div class="cta-container">
            <button id="btn-start" class="btn-start disabled" disabled>
                Let's Start Asking üöÄ
            </button>
        </div>

        <footer>
            <p>&copy; Isaac Hern√°n (Isaaker) - <a href="https://github.com/Isaaker/mrquizzer" target="_blank">GitHub</a></p>
        </footer>
    </main>

    <script src="settings.js"></script>
</body>
</html>